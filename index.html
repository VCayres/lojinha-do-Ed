<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#00b4d8">
  <title>Vendinha do Fisco</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="header">
    <h1>Vendinha do Fisco</h1>
    <p>Escolha seus produtos e gere a sua nota fiscal!</p>
  </header>
  <main class="container">
    <!-- Grade de produtos -->
    <section id="product-grid" class="product-grid"></section>
    <!-- Seção de carrinho -->
    <aside id="cart-section" class="cart-section">
      <h2>Carrinho</h2>
      <ul id="cart-items" class="cart-items"></ul>
      <div class="cart-total">
        <span>Total:</span>
        <span id="cart-total">R$ 0,00</span>
      </div>
      <button id="checkout-btn" class="checkout-btn" disabled>Gerar Nota Fiscal</button>
    </aside>
  </main>

  <!-- Modelo oculto da nota fiscal para impressão -->
  <div id="receipt-modal" class="receipt-modal hidden">
    <div class="receipt">
      <h2>Nota Fiscal</h2>
      <div class="receipt-header">
        <p>CNPJ: 00.000.000/0001-00</p>
        <p>Endereço: Rua Exemplo, 123 - São Paulo/SP</p>
        <p>Cliente: Consumidor Final</p>
      </div>
      <p><strong>Data:</strong> <span id="receipt-date"></span></p>
      <table id="receipt-table" class="receipt-table">
        <thead>
          <tr>
            <th>Produto</th>
            <th>Quantidade</th>
            <th>Vlr Unit.</th>
            <th>Impostos</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div class="receipt-summary">
        <p><strong>Total de Impostos:</strong> <span id="receipt-taxes"></span></p>
        <p class="receipt-total"><strong>Total da compra:</strong> <span id="receipt-total"></span></p>
      </div>
d68al9-codex/improve-responsive-design-for-mobile
        <img
          id="qr-code"
          class="qr-code"
          alt="QR Code da Educação Fiscal do Paraná"
        >
      <p class="disclaimer">Este documento não tem valor fiscal e foi gerado com um simulador educacional.</p>
      <button id="print-btn" class="print-btn">Imprimir</button>
      <button id="close-receipt-btn" class="close-btn">Fechar</button>

    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // Registra o service worker para PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .catch((err) => console.error('Service worker registration failed', err));
      });
    }
  </script>
</body>
</html>
